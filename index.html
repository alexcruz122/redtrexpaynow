<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RedTrex PayNow</title>
</head>
<body>
<form id="payForm">
  Order ID: <input type="text" id="order_id" value="525"><br>
  Amount: <input type="text" id="amount" value="1000"><br>
  First Name: <input type="text" id="first_name" value="John"><br>
  Last Name: <input type="text" id="last_name" value="Doe"><br>
  Email: <input type="text" id="email" value="customer@email.com"><br>
  Contact: <input type="text" id="contact_number" value="0777888999"><br>
  Address: <input type="text" id="address_line_one" value="46/46, Green Lanka Building"><br>
  Currency: <input type="text" id="process_currency" value="LKR"><br>
  <button type="button" onclick="payNow()">Pay Now</button>
</form>

<script>
async function payNow() {
  const data = {
    order_id: document.getElementById('order_id').value,
    amount: document.getElementById('amount').value,
    first_name: document.getElementById('first_name').value,
    last_name: document.getElementById('last_name').value,
    email: document.getElementById('email').value,
    contact_number: document.getElementById('contact_number').value,
    address_line_one: document.getElementById('address_line_one').value,
    process_currency: document.getElementById('process_currency').value
  };

  const res = await fetch("https://webxpayipg.onrender.com/create-payment", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const html = await res.text();
  document.body.innerHTML = html; // replace page with redirect form
}
</script>
</body>
</html>
